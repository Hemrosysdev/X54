/*
 * GpioDrvQueue.cpp
 *
 *  Created on: 24.10.2019
 *      Author: gesser
 */

#include "GpioDrvQueue.h"
#include "FreeRtosQueueTask.h"

/*!************************************************************************************************************************************************************
 *
 *************************************************************************************************************************************************************/

GpioDrvQueue::GpioDrvQueue()
    : UxEspCppLibrary::FreeRtosQueue( 50,
                                      UxEspCppLibrary::FreeRtosQueueTask::minTargetQueueSize( sizeof( Message ) ),
                                      "GpioDrvQueue" )
{

}

/*!************************************************************************************************************************************************************
 *
 *************************************************************************************************************************************************************/

GpioDrvQueue::~GpioDrvQueue()
{
}

/*!************************************************************************************************************************************************************
 *
 *************************************************************************************************************************************************************/

BaseType_t GpioDrvQueue::sendMotorOn( void )
{
    return sendSimpleEvent( MotorOn );
}

/*!************************************************************************************************************************************************************
 *
 *************************************************************************************************************************************************************/

BaseType_t GpioDrvQueue::sendMotorOff( void )
{
    return sendSimpleEvent( MotorOff );
}

/*!************************************************************************************************************************************************************
 *
 *************************************************************************************************************************************************************/

BaseType_t GpioDrvQueue::sendLedWarningStatus( const X54::ledStatus nLedStatus )
{
    Message message;

    message.type                                  = LedWarningStatus;
    message.payload.ledStatusPayload.m_nLedStatus = nLedStatus;

    return send( &message );
}

/*!************************************************************************************************************************************************************
 *
 *************************************************************************************************************************************************************/

BaseType_t GpioDrvQueue::sendLedStandbyStatus( const X54::ledStatus nLedStatus )
{
    Message message;

    message.type                                  = LedStandbyStatus;
    message.payload.ledStatusPayload.m_nLedStatus = nLedStatus;

    return send( &message );
}

/*!************************************************************************************************************************************************************
 *
 *************************************************************************************************************************************************************/
